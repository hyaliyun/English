"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[84494],{83610:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>d,contentTitle:()=>c,default:()=>p,frontMatter:()=>t,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"sounds-of-american-english/8.2-cepd-phonetics-and-sound","title":"8.2. \u83b7\u53d6 CEPD \u97f3\u6807","description":"\u5728 Github \u4e0a\u6709\u4e00\u4e2a\u5f00\u6e90\u7684\u4ed3\u5e93\uff0c\u63d0\u4f9b\u4e86\u300a\u5251\u6865\u82f1\u8bed\u53d1\u58f0\u8bcd\u5178\u300b\u7684 json \u683c\u5f0f\u6570\u636e\u5e93\uff1a","source":"@site/learn/sounds-of-american-english/8.2-cepd-phonetics-and-sound.md","sourceDirName":"sounds-of-american-english","slug":"/sounds-of-american-english/8.2-cepd-phonetics-and-sound","permalink":"/learn/sounds-of-american-english/8.2-cepd-phonetics-and-sound","draft":false,"unlisted":false,"editUrl":"https://github.com/hyaliyun/English/edit/main/website/learn/sounds-of-american-english/8.2-cepd-phonetics-and-sound.md","tags":[],"version":"current","frontMatter":{},"sidebar":"devDocsSidebar","previous":{"title":"8.1. \u8f93\u5165\u97f3\u6807\u4e0e\u7279\u6b8a\u7b26\u53f7","permalink":"/learn/sounds-of-american-english/8.1-inputting-phonemes-and-symbols"},"next":{"title":"8.3. \u97f3\u6807\u7ec3\u4e60","permalink":"/learn/sounds-of-american-english/8.3-phoneme-exercises"}}');var o=s(74848),i=s(28453);const t={},c="8.2. \u83b7\u53d6 CEPD \u97f3\u6807",d={},a=[];function l(n){const e={a:"a",blockquote:"blockquote",code:"code",em:"em",h1:"h1",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.header,{children:(0,o.jsx)(e.h1,{id:"82-\u83b7\u53d6-cepd-\u97f3\u6807",children:"8.2. \u83b7\u53d6 CEPD \u97f3\u6807"})}),"\n",(0,o.jsx)(e.p,{children:"\u5728 Github \u4e0a\u6709\u4e00\u4e2a\u5f00\u6e90\u7684\u4ed3\u5e93\uff0c\u63d0\u4f9b\u4e86\u300a\u5251\u6865\u82f1\u8bed\u53d1\u58f0\u8bcd\u5178\u300b\u7684 json \u683c\u5f0f\u6570\u636e\u5e93\uff1a"}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.a,{href:"https://github.com/zelic91/camdict",children:"https://github.com/zelic91/camdict"})}),"\n"]}),"\n",(0,o.jsxs)(e.p,{children:["\u5c06\u8fd9\u4e2a\u4ed3\u5e93\u91cc\u7684 ",(0,o.jsx)(e.a,{href:"https://github.com/zelic91/camdict/raw/main/cam_dict.refined.json",children:"cam_dict.refined.json"})," \u4e0b\u8f7d\u5e76\u4fdd\u5b58\u5230\u672c\u5730\u67d0\u4e2a\u4f4d\u7f6e\u3002"]}),"\n",(0,o.jsxs)(e.p,{children:["\u6211\u5199\u4e86\u4e00\u4e2a Alfred \u7684 workflow\uff0c\u4f7f\u7528\u7684\u662f macOS \u7cfb\u7edf\u81ea\u5e26\u7684 ",(0,o.jsx)(e.em,{children:"python3"}),"\uff1a",(0,o.jsx)(e.code,{children:"/usr/bin/python3"}),"\uff0c\u901a\u8fc7\u8bbe\u5b9a\u5173\u952e\u5b57\u542f\u52a8\u4e00\u4e2a Python \u811a\u672c\uff0c\u67e5\u8be2\u67d0\u4e2a\u5355\u8bcd\uff08\u751a\u81f3\u6574\u4e2a\u53e5\u5b50\uff09\u5728\u300a\u5251\u6865\u82f1\u8bed\u53d1\u58f0\u8bcd\u5178\u300b\uff08CEPD\uff09\u4e2d\u7684\u97f3\u6807\u3002"]}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.a,{href:"https://1000h.org/alfred-workflows/CEPD-phonetic-transcription.alfredworkflow",children:"CEPD-phonetic-transcription.alfredworkflow"})}),"\n"]}),"\n",(0,o.jsx)(e.p,{children:"\u4e0b\u8f7d\u8fd9\u4e2a\u6587\u4ef6\u4e4b\u540e\uff0c\u5bfc\u5165 Alfred\u3002"}),"\n",(0,o.jsx)(e.p,{children:"\u5728\u4f7f\u7528\u4e4b\u524d\u8981\u6ce8\u610f\uff1a"}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:["\u4fee\u6539\u5404\u4e2a Python \u811a\u672c\u5185\u7684 ",(0,o.jsx)(e.code,{children:"cam_dict.refined.json"})," \u7684\u6587\u4ef6\u8def\u5f84\u3002"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(e.p,{children:"\u8fd9\u4e2a workflow \u53ef\u7528\u7684\u542f\u52a8\u5173\u952e\u5b57\u5206\u522b\u662f\uff1a"}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.code,{children:"cams"}),"\uff1a\u67e5\u8be2\u97f3\u6807\uff08\u7f8e\u5f0f\u53d1\u97f3\uff09"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.code,{children:"camk"}),"\uff1a\u67e5\u8be2\u97f3\u6807\uff08\u82f1\u5f0f\u53d1\u97f3\uff09"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.code,{children:"camsd"}),"\uff1a\u7528\u6d4f\u89c8\u5668\u6253\u5f00 CEPD \u771f\u4eba\u793a\u8303\u5f55\u97f3\uff08\u7f8e\u5f0f\u53d1\u97f3\uff09\u5728\u7ebf\u7f51\u5740"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.code,{children:"camkd"}),"\uff1a\u7528\u6d4f\u89c8\u5668\u6253\u5f00 CEPD \u771f\u4eba\u793a\u8303\u5f55\u97f3\uff08\u82f1\u5f0f\u53d1\u97f3\uff09\u5728\u7ebf\u7f51\u5740"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.code,{children:"camw"}),"\uff1a\u7528\u6d4f\u89c8\u5668\u6253\u5f00 CEPD \u67e5\u8be2\u9875\u9762"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.code,{children:"ipa"}),"\uff1a\u8fd4\u56de CMU\uff08\u5361\u8010\u57fa\u6885\u9686\u5927\u5b66\uff09\u97f3\u6807\u5e93\u4e2d\u7684\u97f3\u6807"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(e.p,{children:["\u4ee5\u4e0b\u662f\u67e5\u8be2\u97f3\u6807\u7684 workflow\uff08\u542f\u52a8\u5173\u952e\u5b57\u4e3a ",(0,o.jsx)(e.code,{children:"cams"}),"\uff09\u4e2d\u7684 python \u811a\u672c\uff1a"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-python",children:"#\n# NOTE: Python 2 is deprecated in macOS, and has been removed from macOS 12.3+\n#\nimport sys\nimport json\n\n# \u5047\u8bbe\u4f60\u7684 JSON \u6570\u636e\u5e93\u662f\u4e00\u4e2a JSON \u6587\u4ef6\uff0c\u6211\u4eec\u5c06\u4ece\u6587\u4ef6\u4e2d\u52a0\u8f7d\u6570\u636e\n# \u5982\u679c JSON \u6570\u636e\u5728\u5185\u5b58\u4e2d\u6216\u5176\u4ed6\u683c\u5f0f\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u4fee\u6539\u8fd9\u90e8\u5206\u4ee3\u7801\ndef load_json_database(file_path):\n    records = []\n    with open(file_path, 'r') as file:\n        for line in file:\n            try:\n                record = json.loads(line)\n                records.append(record)\n            except json.JSONDecodeError as e:\n                print(f\"Error parsing JSON: {e}\")\n    return records\n\n# \u5728 JSON \u6570\u636e\u5e93\u4e2d\u68c0\u7d22 word\ndef search_in_json_database(database, search_word, region):\n    for record in database:\n        # \u68c0\u67e5 word \u5b57\u6bb5\u662f\u5426\u5339\u914d\n        if record.get('word') == search_word:\n            # \u627e\u5230\u5339\u914d\u9879\u540e\uff0c\u83b7\u53d6\u7f8e\u5f0f\u53d1\u97f3\u4fe1\u606f\n            pos_items = record.get('pos_items', [])\n            for pos_item in pos_items:\n                pronunciations = pos_item.get('pronunciations', [])\n                for pronunciation in pronunciations:\n                    if pronunciation.get('region') == region:\n                        # \u627e\u5230\u7f8e\u5f0f\u53d1\u97f3\uff0c\u8fd4\u56de\u76f8\u5173\u4fe1\u606f\n                        return {\n                            'pronunciation': pronunciation.get('pronunciation'),\n                            'audio': pronunciation.get('audio')\n                        }\n    # \u5982\u679c\u6ca1\u6709\u627e\u5230\u5339\u914d\u7684 word \u5b57\u6bb5\uff0c\u8fd4\u56de 'not exist'\n    return 'not exist'\n\n# cam_dict.refined.json \u7684\u6587\u4ef6\u8def\u5f84\njson_db_file_path = '/Users/joker/github/camdict/cam_dict.refined.json'\n\n# \u8981\u68c0\u7d22\u7684\u5355\u8bcd\nsearch_word = sys.argv[1]\n\nregion = \"us\"\n\njson_database = load_json_database(json_db_file_path)\n\n# replace punctuations in text with space\npunctuations = \",.?!;\"\nfor p in punctuations:\n    search_word = search_word.replace(p, \" \")\nwords = [word for word in search_word.split() if word.strip() != '']\n\nphonetics = []\n\nfor w in words:\n  # \u68c0\u7d22\u5e76\u83b7\u53d6\u7ed3\u679c\n  w = w.strip().lower()\n\n  if w[-1] in punctuations:\n    w = w.rstrip(\",.?!;\")\n  result = search_in_json_database(json_database, w, region)\n\n  if result == 'not exist':\n    phonetics.append(w+\"*\")\n  else:\n    phonetics.append(result['pronunciation'])\n\nreturnvalue = ''\nfor p in phonetics:\n  returnvalue += p + ' '\n\nsys.stdout.write(returnvalue.strip())\n"})})]})}function p(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(l,{...n})}):l(n)}},28453:(n,e,s)=>{s.d(e,{R:()=>t,x:()=>c});var r=s(96540);const o={},i=r.createContext(o);function t(n){const e=r.useContext(i);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:t(n.components),r.createElement(i.Provider,{value:e},n.children)}}}]);